---
version: '3'
services:

  ccd-logstash:
    image: "hmctspublic.azurecr.io/imported/logstash/logstash:7.16.1"
    container_name: ccd-logstash
    environment:
      - XPACK_MONITORING_ENABLED=false
      - DATA_STORE_URL=jdbc:postgresql://ccd-shared-database:5432/ccd_data?stringtype=unspecified&ssl=false
      - DATA_STORE_USER=ccd
      - DATA_STORE_PASS=ccd
      - ES_HOSTS=http://ccd-elasticsearch:9200
    networks:
      - ccd-network

networks:
  ccd-network:
    external: true

